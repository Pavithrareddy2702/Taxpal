<div class="auth-container">
  <div class="auth-card">
    <!-- Left Section - Form -->
    <div class="auth-card__form">
      <div class="form-content">
        <div class="form-header">
          <h2 class="form-title brand">TaxPal</h2>
          <h3 class="form-subtitle-title">Create Your TaxPal Account</h3>
          <p class="form-subtitle">Enter your details to get started with managing your finances</p>
        </div>
        <!-- Global Error Message -->
<div *ngIf="errorMessage" class="global-error">
  {{ errorMessage }}
</div>
        <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="auth-form">
          <!-- Full Name Field -->
          <div class="form-field">
            <label class="form-field__label" for="fullName">Full Name</label>
            <input
              id="fullName"
              type="text"
              class="form-field__input"
              [class.form-field__input--error]="getFieldError('fullName')"
              placeholder="fullname"
              formControlName="fullName"
            />
            <div *ngIf="getFieldError('fullName')" class="form-field__error">
              {{ getFieldError('fullName') }}
            </div>
          </div>

          <!-- Email Field -->
          <div class="form-field">
            <label class="form-field__label" for="email">Email</label>
            <input
              id="email"
              type="email"
              class="form-field__input"
              [class.form-field__input--error]="getFieldError('email')"
              placeholder="your@gmail.com"
              formControlName="email"
            />
            <div *ngIf="getFieldError('email')" class="form-field__error">
              {{ getFieldError('email') }}
            </div>
          </div>

          <!-- Username Field -->
          <div class="form-field">
            <label class="form-field__label" for="username">Username</label>
            <input
              id="username"
              type="text"
              class="form-field__input"
              [class.form-field__input--error]="getFieldError('username')"
              placeholder="Pavi123"
              formControlName="username"
            />
            <div *ngIf="getFieldError('username')" class="form-field__error">
              {{ getFieldError('username') }}
            </div>
          </div>

          <!-- Password Field -->
          <div class="form-field">
            <label class="form-field__label" for="password">Password</label>
            <input
              id="password"
              type="password"
              class="form-field__input"
              [class.form-field__input--error]="getFieldError('password')"
              placeholder="••••••••••••••••••"
              formControlName="password"
            />
            <div *ngIf="getFieldError('password')" class="form-field__error">
              {{ getFieldError('password') }}
            </div>
          </div>
          <!-- Confirm Password Field -->
          <div class="form-field">
            <label class="form-field__label" for="confirmPassword">Confirm Password</label>
            <input
              id="confirmPassword"
              type="password"
              class="form-field__input"
              [class.form-field__input--error]="getFieldError('confirmPassword')"
              placeholder="••••••••••••••••••"
              formControlName="confirmPassword"
            />
            <div *ngIf="getFieldError('confirmPassword')" class="form-field__error">
              {{ getFieldError('confirmPassword') }}
            </div>
          </div>

          <!-- Country Selection -->
          <div class="form-field">
            <label class="form-field__label" for="country">Country</label>
            <div class="select-wrapper">
              <select 
                id="country"
                formControlName="country"
                class="form-field__select"
                [class.form-field__select--error]="getFieldError('country')">
                <option value="" disabled>Select your country</option>
                <option *ngFor="let country of countries" [value]="country.value">
                  {{ country.label }}
                </option>
              </select>
            </div>
            <div *ngIf="getFieldError('country')" class="form-field__error">
              {{ getFieldError('country') }}
            </div>
          </div>

          <!-- Submit Button -->
          <button 
            type="submit" 
            class="submit-button"
            [disabled]="isLoading">
            <span *ngIf="isLoading" class="loading-spinner"></span>
            {{ isLoading ? 'Creating Account...' : 'Create Account' }}
          </button>
        </form>
      </div>
    </div>

    <!-- Right Section - Welcome -->
    <div class="auth-card__welcome">
      <div class="welcome-content">
        <h1 class="welcome-title">Welcome Back!</h1>
        <p class="welcome-subtitle">Already have an account ?</p>
        <button 
          type="button" 
          class="welcome-button"
          (click)="navigateToLogin()">
          Sign In
        </button>
      </div>
    </div>
  </div>
</div>