import{a as _}from"./chunk-QUZCL42G.js";import{a as he,b as be,e as B,f as R,g as v,h as ye,i as Ce,j as Pe,k as we,l as Me}from"./chunk-OCZNNLXB.js";import{a as z,b as p,c as D,d as j,g as N,i as U,l as H,m as Oe,n as Fe,o as ke,q as $,r as Se,s as O}from"./chunk-SWTIH3DO.js";import"./chunk-L6XRWYET.js";import{c as ve,d as _e,e as xe}from"./chunk-Q5QP427L.js";import{$ as X,Ab as o,B as J,Bb as d,F as ae,Fb as me,Hb as h,Ib as f,Kc as fe,Lc as M,R as Q,S as P,Sa as s,Sc as y,Tb as ue,Ub as b,Wb as a,X as w,Xb as L,Yb as g,a as oe,aa as se,bb as u,ca as le,ga as ce,ha as de,hb as x,i as S,ia as A,j as E,ja as I,lb as m,lc as ge,n as T,qa as pe,yb as c,z as ie,zb as i}from"./chunk-24VTUSTZ.js";var k={colors:{primary:{50:"#E6F7F6",100:"#B3E6E2",200:"#80D6CE",300:"#4DC6BA",400:"#2FB6A8",500:"#1FA293",600:"#1B8B80",700:"#166C63",800:"#11554C",900:"#0B3D36",contrast:"light"},accent:{50:"#FEEFEF",100:"#FDCBCB",200:"#FA9B9B",300:"#F86B6B",400:"#F54747",500:"#EF4444",600:"#DC2626",700:"#B91C1C",800:"#991B1B",900:"#7F1D1D",contrast:"light"},warn:{50:"#FFF9E6",100:"#FEEFB3",200:"#FDE580",300:"#FDD94D",400:"#FCCC2F",500:"#F59E0B",600:"#D97706",700:"#B45309",800:"#92400E",900:"#78350F",contrast:"light"},background:{default:"#F9FAFB",paper:"#FFFFFF"},text:{primary:"#111827",secondary:"#6B7280"}},typography:{fontFamily:"'Inter', 'Roboto', sans-serif",fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500,fontWeightBold:700},shape:{borderRadius:16},shadows:["none","0px 2px 6px rgba(0,0,0,0.1)","0px 4px 12px rgba(0,0,0,0.08)"]};var V=class r{applyTheme(){let e=document.documentElement;Object.entries(k.colors).forEach(([t,n])=>{typeof n=="object"&&Object.entries(n).forEach(([l,C])=>{typeof C=="string"&&e.style.setProperty(`--color-${t}-${l}`,C)})}),Object.entries(k.typography).forEach(([t,n])=>{e.style.setProperty(`--${t}`,String(n))}),e.style.setProperty("--border-radius",`${k.shape.borderRadius}px`),k.shadows.forEach((t,n)=>{e.style.setProperty(`--box-shadow-${n+1}`,t)})}static \u0275fac=function(t){return new(t||r)};static \u0275prov=w({token:r,factory:r.\u0275fac,providedIn:"root"})};var q=class r{constructor(e){this.themeService=e}title=pe("client");ngOnInit(){console.log("\u{1F3AF} App component initialized");try{this.themeService.applyTheme(),console.log("\u2705 Theme applied successfully")}catch(e){console.error("\u274C Theme application failed:",e)}}static \u0275fac=function(t){return new(t||r)(u(V))};static \u0275cmp=x({type:r,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"app-container"],[2,"min-height","100vh","display","flex","flex-direction","column"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"div",1),d(2,"router-outlet"),o()())},dependencies:[R],styles:['[_ngcontent-%COMP%]:root{--color-primary-50: #E6F7F6;--color-primary-100: #B3E6E2;--color-primary-200: #80D6CE;--color-primary-300: #4DC6BA;--color-primary-400: #2FB6A8;--color-primary-500: #1FA293;--color-primary-600: #1B8B80;--color-primary-700: #166C63;--color-primary-800: #11554C;--color-primary-900: #0B3D36;--color-accent-500: #EF4444;--color-warn-500: #F59E0B;--color-background-default: #F9FAFB;--color-background-paper: #FFFFFF;--color-text-primary: #111827;--color-text-secondary: #6B7280;--shape-border-radius: 16px;--shadow-1: 0px 2px 6px rgba(0,0,0,.1);--shadow-2: 0px 4px 12px rgba(0,0,0,.08);--font-family: "Inter", "Roboto", sans-serif;--font-size: 14px}']})};var te={palette:{primary:{50:"#E6F7F6",100:"#B3E6E2",200:"#80D6CE",300:"#4DC6BA",400:"#2FB6A8",500:"#2CA49D",600:"#239088",700:"#1C7B74",800:"#166660",900:"#0E4A44",contrastDefaultColor:"light"},accent:{50:"#FEEFEF",100:"#FDCBCB",200:"#FA9B9B",300:"#F86B6B",400:"#F54747",500:"#EF4444",600:"#D63E3E",700:"#B83434",800:"#992B2B",900:"#6B1F1F",contrastDefaultColor:"light"},warn:{50:"#FFF9E6",100:"#FEEFB3",200:"#FDE580",300:"#FDD94D",400:"#FCCC2F",500:"#F59E0B",600:"#DB8B0A",700:"#B97308",800:"#975C07",900:"#643E05",contrastDefaultColor:"light"},background:{default:"#FFFFFF",paper:"#F3F4F6"},text:{primary:"#000000",secondary:"#6B7280"}},typography:{fontFamily:"'Inter', 'Roboto', sans-serif",fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500,fontWeightBold:700},shape:{borderRadius:12},shadows:["none","0px 2px 6px rgba(0,0,0,0.15)","0px 4px 12px rgba(0,0,0,0.1)"]};var G=class r{currentTheme=new E(te);theme$=this.currentTheme.asObservable();constructor(){this.applyTheme(te)}applyTheme(e){let t=document.documentElement;t.style.setProperty("--primary-50",e.palette.primary[50]),t.style.setProperty("--primary-100",e.palette.primary[100]),t.style.setProperty("--primary-200",e.palette.primary[200]),t.style.setProperty("--primary-300",e.palette.primary[300]),t.style.setProperty("--primary-400",e.palette.primary[400]),t.style.setProperty("--primary-500",e.palette.primary[500]),t.style.setProperty("--primary-600",e.palette.primary[600]),t.style.setProperty("--primary-700",e.palette.primary[700]),t.style.setProperty("--primary-800",e.palette.primary[800]),t.style.setProperty("--primary-900",e.palette.primary[900]),t.style.setProperty("--accent-500",e.palette.accent[500]),t.style.setProperty("--warn-500",e.palette.warn[500]),t.style.setProperty("--background-default",e.palette.background.default),t.style.setProperty("--background-paper",e.palette.background.paper),t.style.setProperty("--text-primary",e.palette.text.primary),t.style.setProperty("--text-secondary",e.palette.text.secondary),t.style.setProperty("--font-family",e.typography.fontFamily),t.style.setProperty("--font-size",e.typography.fontSize+"px"),t.style.setProperty("--border-radius",e.shape.borderRadius+"px")}getCurrentTheme(){return this.currentTheme.value}static \u0275fac=function(t){return new(t||r)};static \u0275prov=w({token:r,factory:r.\u0275fac,providedIn:"root"})};var W=class r{constructor(e,t){this.authService=e;this.router=t}isRefreshing=!1;refreshTokenSubject=new E(null);intercept(e,t){let n=this.authService.getToken(),l=e;return n&&!this.isPublicRoute(e.url)&&(l=this.addTokenHeader(e,n)),l=l.clone({setHeaders:{"Content-Type":"application/json",Accept:"application/json"}}),t.handle(l).pipe(J(C=>C.status===401&&!this.isPublicRoute(e.url)?this.handle401Error(l,t):T(()=>C)))}addTokenHeader(e,t){return e.clone({headers:e.headers.set("Authorization",`Bearer ${t}`)})}isPublicRoute(e){return["/user/login","/user/register","/user/forgot-password","/user/request-reset","/user/reset-password/:token"].some(n=>e.includes(n))}handle401Error(e,t){return this.isRefreshing?this.refreshTokenSubject.pipe(ie(n=>n!==null),ae(1),Q(n=>t.handle(this.addTokenHeader(e,n)))):(this.isRefreshing=!0,this.refreshTokenSubject.next(null),this.authService.getRefreshToken()?this.authService.refreshToken().pipe(Q(l=>(this.isRefreshing=!1,this.refreshTokenSubject.next(l),t.handle(this.addTokenHeader(e,l)))),J(l=>(this.isRefreshing=!1,this.authService.logout().subscribe(),this.router.navigate(["/features/login"]),T(()=>l)))):(this.isRefreshing=!1,this.authService.logout().subscribe(),this.router.navigate(["/features/login"]),T(()=>new Error("No refresh token available"))))}static \u0275fac=function(t){return new(t||r)(X(_),X(v))};static \u0275prov=w({token:r,factory:r.\u0275fac})};function ze(r,e){if(r&1&&(i(0,"div",26),a(1),o()),r&2){let t=f();s(),g(" ",t.getFieldError("email")," ")}}function De(r,e){if(r&1&&(i(0,"div",26),a(1),o()),r&2){let t=f();s(),g(" ",t.getFieldError("password")," ")}}function je(r,e){if(r&1&&(i(0,"div",27),a(1),o()),r&2){let t=f();s(),g(" ",t.errorMessage," ")}}function Ne(r,e){r&1&&d(0,"span",28)}var Y=class r{constructor(e,t,n,l){this.fb=e;this.authService=t;this.router=n;this.route=l;this.loginForm=this.fb.group({email:["",[p.required,p.email]],password:["",[p.required,p.minLength(6)]],rememberMe:[!1]})}loginForm;isLoading=!1;errorMessage="";successMessage="";showPassword=!1;rememberMe=!1;destroy$=new S;returnUrl="/dashboard";ngOnInit(){if(this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/dashboard",this.authService.isAuthenticated()){this.router.navigate([this.returnUrl]);return}let e=this.route.snapshot.queryParams.message;e&&(this.successMessage=decodeURIComponent(e)),this.authService.isLoading$.pipe(P(this.destroy$)).subscribe(t=>this.isLoading=t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSubmit(){if(this.loginForm.valid){this.clearMessages();let e={email:this.loginForm.get("email")?.value.trim(),password:this.loginForm.get("password")?.value};this.authService.login(e).pipe(P(this.destroy$)).subscribe({next:t=>{console.log("Login successful:",t),this.successMessage=`Welcome back, ${t.user.fullName}!`,this.loginForm.get("rememberMe")?.value?localStorage.setItem("token",t.token):sessionStorage.setItem("token",t.token),setTimeout(()=>{this.router.navigate([this.returnUrl])},1e3)},error:t=>{console.error("Login error:",t),this.handleLoginError(t)}})}else this.markFormGroupTouched(),this.errorMessage="Please fill in all required fields correctly."}handleLoginError(e){this.successMessage="",e.status===401?this.errorMessage="Invalid email or password. Please try again.":e.status===403?this.errorMessage="Account is locked or not verified. Please contact support.":e.status===429?this.errorMessage="Too many login attempts. Please try again in a few minutes.":e.status===0?this.errorMessage="Unable to connect to server. Please check your internet connection.":this.errorMessage=e.message||"Login failed. Please try again."}getFieldError(e){let t=this.loginForm.get(e);if(t&&t.invalid&&(t.dirty||t.touched)){if(t.errors?.required)return`${this.getFieldLabel(e)} is required`;if(t.errors?.minlength){let n=t.errors?.minlength.requiredLength;return`${this.getFieldLabel(e)} must be at least ${n} characters`}if(t.errors?.email)return"Please enter a valid email address"}return""}getFieldLabel(e){return{email:"Email",password:"Password"}[e]||this.capitalizeFirst(e)}markFormGroupTouched(){Object.keys(this.loginForm.controls).forEach(e=>{this.loginForm.get(e)?.markAsTouched()})}capitalizeFirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}clearMessages(){this.errorMessage="",this.successMessage=""}togglePasswordVisibility(){this.showPassword=!this.showPassword}navigateToSignup(){let e=this.returnUrl!=="/dashboard"?{returnUrl:this.returnUrl}:{};this.router.navigate(["/signup"],{queryParams:e})}navigateToForgotPassword(){console.log("Navigating to forgot password..."),this.router.navigate(["/forgot-password"])}isFieldInvalid(e){let t=this.loginForm.get(e);return!!(t&&t.invalid&&(t.dirty||t.touched))}getFormControl(e){return this.loginForm.get(e)}static \u0275fac=function(t){return new(t||r)(u($),u(_),u(v),u(B))};static \u0275cmp=x({type:r,selectors:[["app-login"]],decls:40,vars:12,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-card__welcome"],[1,"welcome-content"],[1,"welcome-title"],[1,"welcome-subtitle"],["type","button",1,"welcome-button",3,"click"],[1,"auth-card__form"],[1,"form-content"],[1,"form-header"],[1,"form-title"],[1,"form-title","brand"],[1,"form-subtitle"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"form-field"],["for","email",1,"form-field__label"],["id","email","type","email","placeholder","pavi@example.com","formControlName","email",1,"form-field__input"],["class","form-field__error",4,"ngIf"],[1,"password-field-group"],[1,"password-label-row"],["for","password",1,"form-field__label"],[1,"forgot-password-link",3,"click"],["id","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","password",1,"form-field__input",3,"type"],["class","error-message",4,"ngIf"],["type","submit",1,"submit-button",3,"disabled"],["class","loading-spinner",4,"ngIf"],[1,"form-field__error"],[1,"error-message"],[1,"loading-spinner"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),a(5,"Welcome Back !"),o(),i(6,"p",5),a(7,"Don't have an account ?"),o(),i(8,"button",6),h("click",function(){return n.navigateToSignup()}),a(9," Sign Up "),o()()(),i(10,"div",7)(11,"div",8)(12,"div",9)(13,"h2",10),a(14,"Welcome Back to"),o(),i(15,"h2",11),a(16,"TaxPal"),o(),i(17,"p",12),a(18,"Log in to your account to continue"),d(19,"br"),a(20,"managing your finances"),o()(),i(21,"form",13),h("ngSubmit",function(){return n.onSubmit()}),i(22,"div",14)(23,"label",15),a(24,"Email"),o(),d(25,"input",16),m(26,ze,2,1,"div",17),o(),i(27,"div",18)(28,"div",14)(29,"div",19)(30,"label",20),a(31,"Password"),o(),i(32,"a",21),h("click",function(){return n.navigateToForgotPassword()}),a(33,"Forget Password?"),o()(),d(34,"input",22),m(35,De,2,1,"div",17),o()(),m(36,je,2,1,"div",23),i(37,"button",24),m(38,Ne,1,0,"span",25),a(39),o()()()()()()),t&2&&(s(21),c("formGroup",n.loginForm),s(4),b("form-field__input--error",n.getFieldError("email")),s(),c("ngIf",n.getFieldError("email")),s(8),b("form-field__input--error",n.getFieldError("password")),c("type",n.showPassword?"text":"password"),s(),c("ngIf",n.getFieldError("password")),s(),c("ngIf",n.errorMessage),s(),c("disabled",n.isLoading),s(),c("ngIf",n.isLoading),s(),g(" ",n.isLoading?"Signing in...":"Sign in"," "))},dependencies:[y,M,O,N,z,D,j,U,H],styles:['.auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background-color:#000;padding:1rem}.auth-card[_ngcontent-%COMP%]{display:flex;max-width:1000px;width:100%;background:#fff;border-radius:calc(var(--border-radius) * 2);box-shadow:0 10px 40px #0000001a;overflow:hidden;min-height:600px}.auth-card__welcome[_ngcontent-%COMP%]{flex:1;background:linear-gradient(135deg,var(--primary-500) 0%,var(--primary-600) 100%);display:flex;align-items:center;justify-content:center;padding:3rem 2rem;position:relative;border-top-right-radius:50px;border-bottom-right-radius:50px}.auth-card__welcome[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50px;right:-50px;width:150px;height:150px;background:radial-gradient(circle,rgba(255,255,255,.15) 0%,transparent 70%);border-radius:50%}.auth-card__welcome[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-30px;right:-30px;width:100px;height:100px;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);border-radius:50%}.welcome-content[_ngcontent-%COMP%]{text-align:center;color:#fff;z-index:1;position:relative}.welcome-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:1rem;font-family:var(--font-family)}.welcome-subtitle[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:2rem;opacity:.9}.welcome-button[_ngcontent-%COMP%]{background:#fff;color:var(--primary-600);border:none;padding:.875rem 2rem;border-radius:var(--border-radius);font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease-in-out;font-family:var(--font-family)}.welcome-button[_ngcontent-%COMP%]:hover{background:#fffffff2;transform:translateY(-2px);box-shadow:0 5px 15px #0000001a}.auth-card__form[_ngcontent-%COMP%]{flex:1;padding:3rem 2rem;display:flex;align-items:center}.form-content[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.form-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:var(--text-primary);margin-bottom:.25rem;line-height:1.2}.brand[_ngcontent-%COMP%]{color:var(--primary-600);margin-bottom:1rem}.form-subtitle[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem;line-height:1.5}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-field[_ngcontent-%COMP%]{width:100%}.form-field__label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:var(--text-primary);margin-bottom:.5rem}.password-label-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.forgot-password-link[_ngcontent-%COMP%]{color:var(--primary-600);text-decoration:none;font-size:.875rem;font-weight:500}.forgot-password-link[_ngcontent-%COMP%]:hover{text-decoration:underline;cursor:pointer}.form-field__input[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:2px solid #e5e7eb;border-radius:var(--border-radius);font-size:1rem;font-family:var(--font-family);background-color:#f9fafb;color:var(--text-primary);transition:all .2s ease-in-out;box-sizing:border-box}.form-field__input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-500);background-color:#fff;box-shadow:0 0 0 3px #2ca49d1a}.form-field__input--error[_ngcontent-%COMP%]{border-color:var(--accent-500);background-color:#fef2f2}.form-field__input--error[_ngcontent-%COMP%]:focus{border-color:var(--accent-500);box-shadow:0 0 0 3px #ef44441a}.form-field__input[_ngcontent-%COMP%]::placeholder{color:var(--text-secondary)}.form-field__input[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;color:var(--text-secondary);cursor:not-allowed}.form-field__error[_ngcontent-%COMP%]{color:var(--accent-500);font-size:.75rem;margin-top:.25rem;font-weight:400}.password-field-group[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{background-color:#fef2f2;color:var(--accent-500);padding:.75rem 1rem;border-radius:var(--border-radius);font-size:.875rem;border:1px solid #fecaca}.submit-button[_ngcontent-%COMP%]{background:var(--primary-600);color:#fff;border:none;padding:.875rem 2rem;border-radius:var(--border-radius);font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease-in-out;font-family:var(--font-family);display:flex;align-items:center;justify-content:center;gap:.5rem}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-700);transform:translateY(-1px);box-shadow:0 4px 12px #2ca49d4d}.submit-button[_ngcontent-%COMP%]:disabled{background:var(--text-secondary);cursor:not-allowed;transform:none;box-shadow:none}.loading-spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid transparent;border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.auth-container[_ngcontent-%COMP%]{padding:.5rem}.auth-card[_ngcontent-%COMP%]{flex-direction:column;max-width:none;min-height:auto}.auth-card__welcome[_ngcontent-%COMP%]{min-height:200px;padding:2rem 1rem;border-top-right-radius:0;border-bottom-left-radius:30px;border-bottom-right-radius:30px}.welcome-title[_ngcontent-%COMP%]{font-size:2rem}.welcome-subtitle[_ngcontent-%COMP%]{font-size:1rem}.auth-card__form[_ngcontent-%COMP%]{padding:2rem 1rem}.form-title[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 480px){.auth-container[_ngcontent-%COMP%]{padding:0}.auth-card[_ngcontent-%COMP%]{border-radius:0;min-height:100vh}.auth-card__welcome[_ngcontent-%COMP%]{min-height:180px;padding:1.5rem 1rem;border-radius:0}.welcome-title[_ngcontent-%COMP%]{font-size:1.75rem}.auth-card__form[_ngcontent-%COMP%]{padding:1.5rem 1rem}.password-label-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.25rem}.forgot-password-link[_ngcontent-%COMP%]{align-self:flex-end}}']})};function Ue(r,e){if(r&1&&(i(0,"div",34),a(1),o()),r&2){let t=f();s(),g(" ",t.errorMessage,`
`)}}function He(r,e){if(r&1&&(i(0,"div",35),a(1),o()),r&2){let t=f();s(),g(" ",t.getFieldError("fullName")," ")}}function $e(r,e){if(r&1&&(i(0,"div",35),a(1),o()),r&2){let t=f();s(),g(" ",t.getFieldError("email")," ")}}function Ve(r,e){if(r&1&&(i(0,"div",35),a(1),o()),r&2){let t=f();s(),g(" ",t.getFieldError("username")," ")}}function qe(r,e){if(r&1&&(i(0,"div",35),a(1),o()),r&2){let t=f();s(),g(" ",t.getFieldError("password")," ")}}function Ge(r,e){if(r&1&&(i(0,"div",35),a(1),o()),r&2){let t=f();s(),g(" ",t.getFieldError("confirmPassword")," ")}}function We(r,e){if(r&1&&(i(0,"option",36),a(1),o()),r&2){let t=e.$implicit;c("value",t.value),s(),g(" ",t.label," ")}}function Ye(r,e){if(r&1&&(i(0,"div",35),a(1),o()),r&2){let t=f();s(),g(" ",t.getFieldError("country")," ")}}function Ze(r,e){r&1&&d(0,"span",37)}var Z=class r{constructor(e,t,n,l){this.fb=e;this.authService=t;this.router=n;this.route=l;this.signupForm=this.fb.group({fullName:["",[p.required,p.minLength(2),p.maxLength(50),this.nameValidator]],email:["",[p.required,p.email,p.maxLength(100)]],username:["",[p.required,p.minLength(3),p.maxLength(20),this.usernameValidator]],password:["",[p.required,p.minLength(8),this.passwordStrengthValidator]],confirmPassword:["",[p.required]],country:["",[p.required]]},{validators:[this.passwordMatchValidator]})}signupForm;isLoading=!1;errorMessage="";successMessage="";showPassword=!1;showConfirmPassword=!1;destroy$=new S;countries=[{value:"us",label:"United States"},{value:"in",label:"India"},{value:"uk",label:"United Kingdom"},{value:"ca",label:"Canada"},{value:"au",label:"Australia"},{value:"de",label:"Germany"},{value:"fr",label:"France"},{value:"jp",label:"Japan"},{value:"sg",label:"Singapore"},{value:"br",label:"Brazil"},{value:"mx",label:"Mexico"},{value:"it",label:"Italy"},{value:"es",label:"Spain"},{value:"nl",label:"Netherlands"},{value:"se",label:"Sweden"},{value:"no",label:"Norway"},{value:"dk",label:"Denmark"},{value:"fi",label:"Finland"},{value:"ch",label:"Switzerland"},{value:"at",label:"Austria"},{value:"be",label:"Belgium"},{value:"ie",label:"Ireland"},{value:"nz",label:"New Zealand"},{value:"za",label:"South Africa"},{value:"kr",label:"South Korea"},{value:"cn",label:"China"},{value:"hk",label:"Hong Kong"},{value:"tw",label:"Taiwan"},{value:"th",label:"Thailand"},{value:"my",label:"Malaysia"},{value:"id",label:"Indonesia"},{value:"ph",label:"Philippines"},{value:"vn",label:"Vietnam"},{value:"ae",label:"United Arab Emirates"},{value:"sa",label:"Saudi Arabia"},{value:"il",label:"Israel"},{value:"tr",label:"Turkey"},{value:"ru",label:"Russia"},{value:"pl",label:"Poland"},{value:"cz",label:"Czech Republic"},{value:"hu",label:"Hungary"},{value:"ro",label:"Romania"},{value:"bg",label:"Bulgaria"},{value:"hr",label:"Croatia"},{value:"si",label:"Slovenia"},{value:"sk",label:"Slovakia"},{value:"lt",label:"Lithuania"},{value:"lv",label:"Latvia"},{value:"ee",label:"Estonia"},{value:"other",label:"Other"}];ngOnInit(){if(this.authService.isAuthenticated()){this.router.navigate(["/dashboard"]);return}this.authService.isLoading$.pipe(P(this.destroy$)).subscribe(e=>this.isLoading=e),this.setDefaultCountry()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}onSubmit(){if(this.signupForm.valid){this.clearMessages();let e=oe({},this.signupForm.value);Object.keys(e).forEach(t=>{typeof e[t]=="string"&&(e[t]=e[t].trim())}),this.authService.signup(e).pipe(P(this.destroy$)).subscribe({next:t=>{console.log("Signup successful:",t),this.successMessage=`Welcome ${t.fullName}! Your account has been created successfully.`,setTimeout(()=>{this.router.navigate(["/login"],{queryParams:{message:encodeURIComponent("Account created successfully! Please log in.")}})},2e3)},error:t=>{console.error("Signup error:",t),this.handleSignupError(t)}})}else this.markFormGroupTouched(),this.errorMessage="\u26A0\uFE0F All fields are required. Please fill them correctly.",this.scrollToFirstError()}handleSignupError(e){this.successMessage="",e.status===409?e.message.toLowerCase().includes("email")?this.errorMessage="This email address is already registered. Please use a different email or try logging in.":e.message.toLowerCase().includes("username")?this.errorMessage="This username is already taken. Please choose a different username.":this.errorMessage="Account already exists. Please try logging in instead.":e.status===422?this.errorMessage=e.message||"Please check your information and try again.":e.status===400?this.errorMessage=e.message||"Invalid information provided. Please check your input.":e.status===0?this.errorMessage="Unable to connect to server. Please check your internet connection.":this.errorMessage=e.message||"Registration failed. Please try again."}getFieldError(e){let t=this.signupForm.get(e);if(t&&t.invalid&&(t.dirty||t.touched)){let n=t.errors;if(n?.required)return`${this.getFieldLabel(e)} is required`;if(n?.email)return"Please enter a valid email address";if(n?.minlength){let l=n.minlength.requiredLength;return`${this.getFieldLabel(e)} must be at least ${l} characters`}if(n?.maxlength){let l=n.maxlength.requiredLength;return`${this.getFieldLabel(e)} cannot exceed ${l} characters`}if(n?.invalidName)return"Full name can only contain letters, spaces, hyphens, and apostrophes";if(n?.invalidUsername)return"Username can only contain letters, numbers, underscores, and hyphens";if(n?.weakPassword)return"Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character"}return e==="confirmPassword"&&this.signupForm.errors?.passwordMismatch&&t?.touched?"Passwords do not match":""}getFieldLabel(e){return{fullName:"Full name",email:"Email",username:"Username",password:"Password",confirmPassword:"Confirm password",country:"Country"}[e]||this.capitalizeFirst(e)}markFormGroupTouched(){Object.keys(this.signupForm.controls).forEach(e=>{this.signupForm.get(e)?.markAsTouched()})}capitalizeFirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}clearMessages(){this.errorMessage="",this.successMessage=""}scrollToFirstError(){setTimeout(()=>{let e=document.querySelector(".error-message");e&&e.scrollIntoView({behavior:"smooth",block:"center"})},100)}setDefaultCountry(){}togglePasswordVisibility(){this.showPassword=!this.showPassword}toggleConfirmPasswordVisibility(){this.showConfirmPassword=!this.showConfirmPassword}navigateToLogin(){console.log("Navigating to login..."),this.router.navigate(["/login"]).then(e=>{console.log("Navigation success:",e)},e=>{console.error("Navigation error:",e)})}isFieldInvalid(e){let t=this.signupForm.get(e);return!!(t&&t.invalid&&(t.dirty||t.touched))}getFormControl(e){return this.signupForm.get(e)}passwordMatchValidator(e){let t=e.get("password")?.value,n=e.get("confirmPassword")?.value;return t&&n&&t!==n?{passwordMismatch:!0}:null}nameValidator(e){return e.value?/^[a-zA-ZÀ-ÿĀ-žА-я\u0100-\u017F\u0180-\u024F\u1E00-\u1EFF\s'-]+$/.test(e.value)?null:{invalidName:!0}:null}usernameValidator(e){return e.value?/^[a-zA-Z0-9_-]+$/.test(e.value)?null:{invalidUsername:!0}:null}passwordStrengthValidator(e){if(!e.value)return null;let t=e.value,n=/[A-Z]/.test(t),l=/[a-z]/.test(t),C=/[0-9]/.test(t),Le=/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\?]/.test(t);return!n||!l||!C||!Le?{weakPassword:!0}:null}static \u0275fac=function(t){return new(t||r)(u($),u(_),u(v),u(B))};static \u0275cmp=x({type:r,selectors:[["app-signup"]],decls:58,vars:24,consts:[[1,"auth-container"],[1,"auth-card"],[1,"auth-card__form"],[1,"form-content"],[1,"form-header"],[1,"form-title","brand"],[1,"form-subtitle-title"],[1,"form-subtitle"],["class","global-error",4,"ngIf"],[1,"auth-form",3,"ngSubmit","formGroup"],[1,"form-field"],["for","fullName",1,"form-field__label"],["id","fullName","type","text","placeholder","fullname","formControlName","fullName",1,"form-field__input"],["class","form-field__error",4,"ngIf"],["for","email",1,"form-field__label"],["id","email","type","email","placeholder","your@gmail.com","formControlName","email",1,"form-field__input"],["for","username",1,"form-field__label"],["id","username","type","text","placeholder","Pavi123","formControlName","username",1,"form-field__input"],["for","password",1,"form-field__label"],["id","password","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","password",1,"form-field__input"],["for","confirmPassword",1,"form-field__label"],["id","confirmPassword","type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","formControlName","confirmPassword",1,"form-field__input"],["for","country",1,"form-field__label"],[1,"select-wrapper"],["id","country","formControlName","country",1,"form-field__select"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","submit",1,"submit-button",3,"disabled"],["class","loading-spinner",4,"ngIf"],[1,"auth-card__welcome"],[1,"welcome-content"],[1,"welcome-title"],[1,"welcome-subtitle"],["type","button",1,"welcome-button",3,"click"],[1,"global-error"],[1,"form-field__error"],[3,"value"],[1,"loading-spinner"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h2",5),a(6,"TaxPal"),o(),i(7,"h3",6),a(8,"Create Your TaxPal Account"),o(),i(9,"p",7),a(10,"Enter your details to get started with managing your finances"),o()(),m(11,Ue,2,1,"div",8),i(12,"form",9),h("ngSubmit",function(){return n.onSubmit()}),i(13,"div",10)(14,"label",11),a(15,"Full Name"),o(),d(16,"input",12),m(17,He,2,1,"div",13),o(),i(18,"div",10)(19,"label",14),a(20,"Email"),o(),d(21,"input",15),m(22,$e,2,1,"div",13),o(),i(23,"div",10)(24,"label",16),a(25,"Username"),o(),d(26,"input",17),m(27,Ve,2,1,"div",13),o(),i(28,"div",10)(29,"label",18),a(30,"Password"),o(),d(31,"input",19),m(32,qe,2,1,"div",13),o(),i(33,"div",10)(34,"label",20),a(35,"Confirm Password"),o(),d(36,"input",21),m(37,Ge,2,1,"div",13),o(),i(38,"div",10)(39,"label",22),a(40,"Country"),o(),i(41,"div",23)(42,"select",24)(43,"option",25),a(44,"Select your country"),o(),m(45,We,2,2,"option",26),o()(),m(46,Ye,2,1,"div",13),o(),i(47,"button",27),m(48,Ze,1,0,"span",28),a(49),o()()()(),i(50,"div",29)(51,"div",30)(52,"h1",31),a(53,"Welcome Back!"),o(),i(54,"p",32),a(55,"Already have an account ?"),o(),i(56,"button",33),h("click",function(){return n.navigateToLogin()}),a(57," Sign In "),o()()()()()),t&2&&(s(11),c("ngIf",n.errorMessage),s(),c("formGroup",n.signupForm),s(4),b("form-field__input--error",n.getFieldError("fullName")),s(),c("ngIf",n.getFieldError("fullName")),s(4),b("form-field__input--error",n.getFieldError("email")),s(),c("ngIf",n.getFieldError("email")),s(4),b("form-field__input--error",n.getFieldError("username")),s(),c("ngIf",n.getFieldError("username")),s(4),b("form-field__input--error",n.getFieldError("password")),s(),c("ngIf",n.getFieldError("password")),s(4),b("form-field__input--error",n.getFieldError("confirmPassword")),s(),c("ngIf",n.getFieldError("confirmPassword")),s(5),b("form-field__select--error",n.getFieldError("country")),s(3),c("ngForOf",n.countries),s(),c("ngIf",n.getFieldError("country")),s(),c("disabled",n.isLoading),s(),c("ngIf",n.isLoading),s(),g(" ",n.isLoading?"Creating Account...":"Create Account"," "))},dependencies:[y,fe,M,O,N,Fe,ke,z,Oe,D,j,U,H],styles:[`.auth-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background-color:#000;padding:1rem}.auth-card[_ngcontent-%COMP%]{display:flex;max-width:1000px;width:100%;background:#fff;border-radius:calc(var(--border-radius) * 2);box-shadow:0 10px 40px #0000001a;overflow:hidden;min-height:600px}.auth-card__welcome[_ngcontent-%COMP%]{flex:1;background:linear-gradient(135deg,var(--primary-500) 0%,var(--primary-600) 100%);display:flex;align-items:center;justify-content:center;padding:3rem 2rem;position:relative;border-top-left-radius:50px;border-bottom-left-radius:50px}.auth-card__welcome[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-50px;left:-50px;width:150px;height:150px;background:radial-gradient(circle,rgba(255,255,255,.15) 0%,transparent 70%);border-radius:50%}.auth-card__welcome[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-30px;left:-30px;width:100px;height:100px;background:radial-gradient(circle,rgba(255,255,255,.1) 0%,transparent 70%);border-radius:50%}.welcome-content[_ngcontent-%COMP%]{text-align:center;color:#fff;z-index:1;position:relative}.welcome-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:1rem;font-family:var(--font-family)}.welcome-subtitle[_ngcontent-%COMP%]{font-size:1.125rem;margin-bottom:2rem;opacity:.9}.welcome-button[_ngcontent-%COMP%]{background:#fff;color:var(--primary-600);border:none;padding:.875rem 2rem;border-radius:var(--border-radius);font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease-in-out;font-family:var(--font-family)}.welcome-button[_ngcontent-%COMP%]:hover{background:#fffffff2;transform:translateY(-2px);box-shadow:0 5px 15px #0000001a}.auth-card__form[_ngcontent-%COMP%]{flex:1;padding:3rem 2rem;display:flex;align-items:center}.form-content[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto}.form-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.form-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:600;color:var(--text-primary);margin-bottom:.25rem;line-height:1.2}.brand[_ngcontent-%COMP%]{color:var(--primary-600);margin-bottom:1rem}.form-subtitle[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:.875rem;line-height:1.5}.auth-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-field[_ngcontent-%COMP%]{width:100%}.form-field__label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:var(--text-primary);margin-bottom:.5rem}.password-label-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:.5rem}.forgot-password-link[_ngcontent-%COMP%]{color:var(--primary-600);text-decoration:none;font-size:.875rem;font-weight:500}.forgot-password-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.form-field__input[_ngcontent-%COMP%], .form-field__select[_ngcontent-%COMP%]{width:100%;padding:.875rem 1rem;border:2px solid #e5e7eb;border-radius:var(--border-radius);font-size:1rem;font-family:var(--font-family);background-color:#f9fafb;color:var(--text-primary);transition:all .2s ease-in-out;box-sizing:border-box}.form-field__input[_ngcontent-%COMP%]:focus, .form-field__select[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--primary-500);background-color:#fff;box-shadow:0 0 0 3px #2ca49d1a}.form-field__input--error[_ngcontent-%COMP%], .form-field__select--error[_ngcontent-%COMP%]{border-color:var(--accent-500);background-color:#fef2f2}.form-field__input--error[_ngcontent-%COMP%]:focus, .form-field__select--error[_ngcontent-%COMP%]:focus{border-color:var(--accent-500);box-shadow:0 0 0 3px #ef44441a}.form-field__input[_ngcontent-%COMP%]::placeholder, .form-field__select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:first-child{color:var(--text-secondary)}.form-field__input[_ngcontent-%COMP%]:disabled, .form-field__select[_ngcontent-%COMP%]:disabled{background-color:#f3f4f6;color:var(--text-secondary);cursor:not-allowed}.form-field__select[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none;background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right 1rem center;background-size:16px;padding-right:3rem;cursor:pointer}.form-field__select[_ngcontent-%COMP%]:focus{background-image:url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%232ca49d' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6,9 12,15 18,9'%3e%3c/polyline%3e%3c/svg%3e")}.form-field__select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:#fff;color:var(--text-primary);padding:.5rem}.form-field__error[_ngcontent-%COMP%]{color:var(--accent-500);font-size:.75rem;margin-top:.25rem;font-weight:400}.password-field-group[_ngcontent-%COMP%]{width:100%}.error-message[_ngcontent-%COMP%]{background-color:#fef2f2;color:var(--accent-500);padding:.75rem 1rem;border-radius:var(--border-radius);font-size:.875rem;border:1px solid #fecaca}.global-error[_ngcontent-%COMP%]{color:#d32f2f;background:#fdecea;border:1px solid #f5c6cb;padding:10px 14px;border-radius:6px;margin-bottom:15px;font-size:14px;font-weight:500}.submit-button[_ngcontent-%COMP%]{background:var(--primary-600);color:#fff;border:none;padding:.875rem 2rem;border-radius:var(--border-radius);font-size:1rem;font-weight:600;cursor:pointer;transition:all .2s ease-in-out;font-family:var(--font-family);display:flex;align-items:center;justify-content:center;gap:.5rem}.submit-button[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--primary-700);transform:translateY(-1px);box-shadow:0 4px 12px #2ca49d4d}.submit-button[_ngcontent-%COMP%]:disabled{background:var(--text-secondary);cursor:not-allowed;transform:none;box-shadow:none}.loading-spinner[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid transparent;border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.auth-container[_ngcontent-%COMP%]{padding:.5rem}.auth-card[_ngcontent-%COMP%]{flex-direction:column;max-width:none;min-height:auto}.auth-card__welcome[_ngcontent-%COMP%]{min-height:200px;padding:2rem 1rem;border-top-left-radius:0;border-bottom-left-radius:30px;border-bottom-right-radius:30px}.welcome-title[_ngcontent-%COMP%]{font-size:2rem}.welcome-subtitle[_ngcontent-%COMP%]{font-size:1rem}.auth-card__form[_ngcontent-%COMP%]{padding:2rem 1rem}.form-title[_ngcontent-%COMP%]{font-size:1.5rem}}@media (max-width: 480px){.auth-container[_ngcontent-%COMP%]{padding:0}.auth-card[_ngcontent-%COMP%]{border-radius:0;min-height:100vh}.auth-card__welcome[_ngcontent-%COMP%]{min-height:180px;padding:1.5rem 1rem;border-radius:0}.welcome-title[_ngcontent-%COMP%]{font-size:1.75rem}.auth-card__form[_ngcontent-%COMP%]{padding:1.5rem 1rem}.password-label-row[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.25rem}.forgot-password-link[_ngcontent-%COMP%]{align-self:flex-end}}`]})};var Te=()=>{let r=se(v);return sessionStorage.getItem("current_user")||localStorage.getItem("current_user")?!0:(r.navigate(["/login"]),!1)};function Ke(r,e){if(r&1){let t=me();i(0,"div",33),h("click",function(){ce(t);let l=f();return de(l.closeSidebarOverlay())}),o()}}var K=class r{constructor(e,t){this.router=e;this.authService=t}sidebarActive=!1;collapsed=!1;currentUser=null;userInitials="";ngOnInit(){let e=sessionStorage.getItem("current_user")||localStorage.getItem("current_user");if(!e){this.router.navigate(["/features/login"]);return}this.currentUser=JSON.parse(e),this.setUserInitials(this.currentUser.fullName)}setUserInitials(e){let t=e.trim().split(" ");this.userInitials=t.length===1?t[0].charAt(0).toUpperCase():t[0].charAt(0).toUpperCase()+t[t.length-1].charAt(0).toUpperCase()}toggleSidebar(){this.sidebarActive=!this.sidebarActive}closeSidebarOverlay(){this.sidebarActive=!1}toggleCollapse(){this.collapsed=!this.collapsed}goToDashboard(){this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/dashboard"])})}goToBudgets(){this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/budgets"])})}goToTaxEtimator(){this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/tax-estimator"])})}goToReports(){this.router.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.router.navigate(["/reports"])})}goToSettings(){this.router.navigate(["/settings"])}logout(){this.authService.logout().subscribe({next:()=>{this.router.navigate(["/login"])},error:e=>{console.error("Logout error:",e),this.router.navigate(["/login"])}})}static \u0275fac=function(t){return new(t||r)(u(v),u(_))};static \u0275cmp=x({type:r,selectors:[["app-main-layout"]],decls:51,vars:12,consts:[[1,"dashboard-root"],["aria-label","Open menu",1,"hamburger",3,"click"],["width","18","height","14","viewBox","0 0 18 14","fill","none"],["y","0","width","18","height","2","rx","1","fill","#fff"],["y","6","width","18","height","2","rx","1","fill","#fff"],["y","12","width","18","height","2","rx","1","fill","#fff"],[1,"sidebar"],[1,"sidebar-top"],[1,"brand-row"],[1,"brand"],["title","Collapse sidebar",1,"collapse-btn",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none"],["d","M9 6L15 12L9 18","stroke","white","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],[1,"nav"],["routerLink","/dashboard","routerLinkActive","active",1,"nav-item",3,"click"],[1,"label"],["routerLink","/budgets","routerLinkActive","active",1,"nav-item"],["routerLink","/transactions","routerLinkActive","active",1,"nav-item"],["routerLink","/tax-estimator","routerLinkActive","active",1,"nav-item"],["routerLink","/reports","routerLinkActive","active",1,"nav-item"],[1,"sidebar-bottom"],["routerLink","/settings",1,"action","settings"],["d","M12 15.5C13.933 15.5 15.5 13.933 15.5 12C15.5 10.067 13.933 8.5 12 8.5C10.067 8.5 8.5 10.067 8.5 12C8.5 13.933 10.067 15.5 12 15.5Z","stroke","white","stroke-width","2"],["d","M19.4 15A1.65 1.65 0 0 0 20 13.5V10.5A1.65 1.65 0 0 0 19.4 9L17.6 7.2A1.65 1.65 0 0 0 16 6.6H8A1.65 1.65 0 0 0 6.4 7.2L4.6 9A1.65 1.65 0 0 0 4 10.5V13.5A1.65 1.65 0 0 0 4.6 15L6.4 16.8A1.65 1.65 0 0 0 8 17.4H16A1.65 1.65 0 0 0 17.6 16.8L19.4 15Z","stroke","white","stroke-width","2"],[1,"profile"],[1,"avatar"],[1,"meta"],[1,"name"],[1,"email"],[1,"sidebar-actions"],[1,"action","logout",3,"click"],["class","overlay",3,"click",4,"ngIf"],[1,"main-area"],[1,"overlay",3,"click"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"button",1),h("click",function(){return n.toggleSidebar()}),A(),i(2,"svg",2),d(3,"rect",3)(4,"rect",4)(5,"rect",5),o()(),I(),i(6,"aside",6)(7,"div",7)(8,"div",8)(9,"div",9),a(10,"TaxPal"),o(),i(11,"button",10),h("click",function(){return n.toggleCollapse()}),A(),i(12,"svg",11),d(13,"path",12),o()()()(),I(),i(14,"nav",13)(15,"a",14),h("click",function(){return n.goToDashboard()}),i(16,"span",15),a(17,"Dashboard"),o()(),i(18,"a",16)(19,"span",15),a(20,"Budgets"),o()(),i(21,"a",17)(22,"span",15),a(23,"Transactions"),o()(),i(24,"a",18)(25,"span",15),a(26,"Tax Estimator"),o()(),i(27,"a",19)(28,"span",15),a(29,"Reports"),o()()(),i(30,"div",20)(31,"button",21),A(),i(32,"svg",11),d(33,"path",22)(34,"path",23),o(),I(),i(35,"span",15),a(36,"Settings"),o()(),i(37,"div",24)(38,"div",25),a(39),o(),i(40,"div",26)(41,"div",27),a(42),o(),i(43,"div",28),a(44),o()()(),i(45,"div",29)(46,"button",30),h("click",function(){return n.logout()}),a(47,"Logout"),o()()()(),m(48,Ke,1,0,"div",31),i(49,"main",32),d(50,"router-outlet"),o()()),t&2&&(b("overlay-open",n.sidebarActive),s(6),b("active",n.sidebarActive)("collapsed",n.collapsed),s(5),ue("transform",n.collapsed?"rotate(180deg)":"rotate(0deg)"),s(28),L(n.userInitials),s(3),L(n.currentUser==null?null:n.currentUser.fullName),s(2),L(n.currentUser==null?null:n.currentUser.email),s(4),c("ngIf",n.sidebarActive))},dependencies:[Me,R,ye,Ce,y,M],styles:["[_nghost-%COMP%]{display:block;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial}.dashboard-root[_ngcontent-%COMP%]{display:flex;min-height:100vh;background:#f6f8fa;position:relative}.overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000059;z-index:850}.hamburger[_ngcontent-%COMP%]{display:none;position:fixed;left:18px;top:18px;z-index:1100;background:#10b981;border:none;padding:10px;border-radius:8px;box-shadow:0 6px 18px #10191e14;cursor:pointer}.sidebar[_ngcontent-%COMP%]{width:240px;background:linear-gradient(180deg,#2fa79a,#1f776e);color:#fff;padding:24px;display:flex;flex-direction:column;justify-content:space-between;gap:14px;transition:all .28s cubic-bezier(.2,.9,.2,1);border-radius:0 12px 12px 0;position:relative;z-index:900}.sidebar.active[_ngcontent-%COMP%]{transform:translate(0)}.sidebar.collapsed[_ngcontent-%COMP%]{width:88px;padding-left:14px;padding-right:12px}.sidebar-top[_ngcontent-%COMP%]   .brand-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.brand[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.collapse-btn[_ngcontent-%COMP%]{background:#ffffff14;border:none;color:#fff;padding:8px;border-radius:8px;display:inline-flex;align-items:center;justify-content:center;cursor:pointer}.nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-top:8px}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:10px 8px;border-radius:10px;color:#fffffff2;text-decoration:none;cursor:pointer;font-size:15px}.nav-item.active[_ngcontent-%COMP%], .nav-item[_ngcontent-%COMP%]:hover{background:#ffffff14}.icon[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;color:#fff}.label[_ngcontent-%COMP%]{white-space:nowrap}.sidebar.collapsed[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .sidebar.collapsed[_ngcontent-%COMP%]   .brand[_ngcontent-%COMP%], .sidebar.collapsed[_ngcontent-%COMP%]   .collapse-btn[_ngcontent-%COMP%]{display:none}.sidebar-bottom[_ngcontent-%COMP%]{margin-top:auto;display:flex;flex-direction:column;gap:12px}.profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.avatar[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;background:#ffffff24;display:flex;align-items:center;justify-content:center;font-weight:700}.meta[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600}.meta[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:13px;opacity:.85}.sidebar-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;margin-top:6px}.action[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:10px;border-radius:10px;border:none;cursor:pointer;background:#ffffff1a;color:#fff;font-weight:600}.action.logout[_ngcontent-%COMP%]{background:#ef444414;color:#ff7b7b}.main-area[_ngcontent-%COMP%]{flex:1;padding:28px}.top-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:18px;margin-bottom:22px}.info-card[_ngcontent-%COMP%]{background:#fff;padding:18px;border-radius:12px;box-shadow:0 6px 18px #14283c0f}.info-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{display:block;color:#6b7280;font-size:13px;margin-bottom:6px}.info-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:22px;font-weight:700;margin-bottom:6px;color:#0f172a}.info-card[_ngcontent-%COMP%]   .meta[_ngcontent-%COMP%]{color:#9aa0a6;font-size:12px}.charts-row[_ngcontent-%COMP%]{display:flex;gap:18px;margin-bottom:24px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:18px;box-shadow:0 6px 18px #14283c0f;display:flex;flex-direction:column;gap:12px}.chart-card.big[_ngcontent-%COMP%]{flex:2;min-height:320px}.chart-card.small[_ngcontent-%COMP%]{flex:1;min-height:320px;display:flex;flex-direction:column;justify-content:flex-start}.chart-wrap[_ngcontent-%COMP%]{position:relative;flex:1;height:280px;max-height:320px}.small-pie[_ngcontent-%COMP%]{height:220px;max-height:250px}.legend[_ngcontent-%COMP%]{list-style:none;padding:0;margin-top:12px;display:flex;flex-direction:column;gap:8px;font-size:14px;color:#111827}.legend[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.recent[_ngcontent-%COMP%]   .tx-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin-top:8px}.tx-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;color:#6b7280;font-weight:600;padding-bottom:10px}.tx-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 0;border-top:1px solid #f1f3f5;color:#111827}.tx-table[_ngcontent-%COMP%]   td.negative[_ngcontent-%COMP%]{color:#ef4444}.chart-filter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:12px}.chart-filter[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600}.chart-filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{padding:6px 10px;border-radius:4px;border:1px solid #ccc;outline:none}@media (max-width: 1100px){.hamburger[_ngcontent-%COMP%]{display:block}.sidebar[_ngcontent-%COMP%]{position:fixed;top:12px;left:12px;bottom:12px;transform:translate(-120%);box-shadow:0 12px 40px #00000040}.sidebar.active[_ngcontent-%COMP%]{transform:translate(0)}.main-area[_ngcontent-%COMP%]{filter:none}.dashboard-root.overlay-open[_ngcontent-%COMP%]   .main-area[_ngcontent-%COMP%]{filter:brightness(.75);pointer-events:none}.sidebar.collapsed[_ngcontent-%COMP%]{width:240px}.top-cards[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.charts-row[_ngcontent-%COMP%]{flex-direction:column}}@media (max-width: 520px){.top-cards[_ngcontent-%COMP%]{grid-template-columns:1fr}.info-card[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:20px}.brand[_ngcontent-%COMP%]{font-size:18px}.sidebar[_ngcontent-%COMP%]{padding:16px}}.dashboard-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px;padding:0 1rem}.title[_ngcontent-%COMP%]{font-size:3rem;font-weight:700;font-family:Poppins,Montserrat,sans-serif;color:#0d3b66}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;opacity:0;transform:translateY(-20px);animation:_ngcontent-%COMP%_fadeInUp .5s forwards}@keyframes _ngcontent-%COMP%_fadeInUp{to{opacity:1;transform:translateY(0)}}.button-group-top[_ngcontent-%COMP%]{display:flex;gap:1rem}.button-group-top[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.7rem 1.5rem;border:none;border-radius:8px;cursor:pointer;font-size:1rem;font-weight:500;transition:transform .2s,box-shadow .2s}.button-group-top[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 10px #0003}.button-group-top[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:first-child{background:#15d8c8;color:#fff}.button-group-top[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{background:#05e2a0;color:#fff}@media (max-width: 1100px){.charts-row[_ngcontent-%COMP%]{flex-direction:column}.chart-card.big[_ngcontent-%COMP%], .chart-card.small[_ngcontent-%COMP%]{width:100%;height:320px}}"]})};var Ae=[{path:"",redirectTo:"/login",pathMatch:"full"},{path:"login",component:Y},{path:"signup",component:Z},{path:"forgot-password",loadComponent:()=>import("./chunk-MI7K3N2R.js").then(r=>r.ForgotPasswordComponent)},{path:"reset-password/:token",loadComponent:()=>import("./chunk-YQ7DMK6S.js").then(r=>r.ResetPasswordComponent)},{path:"",component:K,canActivate:[Te],children:[{path:"dashboard",loadComponent:()=>import("./chunk-CEPDG22D.js").then(r=>r.Dashboard)},{path:"dashboard-form",loadComponent:()=>import("./chunk-BG3HM2LR.js").then(r=>r.DashboardForm)},{path:"income",loadComponent:()=>import("./chunk-TQZJA27Q.js").then(r=>r.IncomeForm)},{path:"expenses",loadComponent:()=>import("./chunk-ZH4PCWD5.js").then(r=>r.ExpensesForm)},{path:"transactions",loadComponent:()=>import("./chunk-WFT2O4FC.js").then(r=>r.TransactionsComponent)},{path:"reports",loadComponent:()=>import("./chunk-QL5O4OBJ.js").then(r=>r.ReportsComponent)},{path:"budgets",loadComponent:()=>import("./chunk-VMZJRSNI.js").then(r=>r.BudgetFormComponent)},{path:"tax-estimator",loadComponent:()=>import("./chunk-TW55TXJT.js").then(r=>r.TaxEstimatorFormComponent)},{path:"settings",loadComponent:()=>import("./chunk-3JLYY6NQ.js").then(r=>r.Settings),children:[{path:"profile",loadComponent:()=>import("./chunk-I6LBPWSO.js").then(r=>r.Profile)},{path:"categories",loadComponent:()=>import("./chunk-JJANWAQW.js").then(r=>r.Categories),runGuardsAndResolvers:"always"},{path:"notifications",loadComponent:()=>import("./chunk-7FKYCWIT.js").then(r=>r.Notifications)},{path:"security",loadComponent:()=>import("./chunk-DRIPN7GH.js").then(r=>r.Security)},{path:"",redirectTo:"profile",pathMatch:"full"}]},{path:"",redirectTo:"dashboard",pathMatch:"full"}]},{path:"features/login",redirectTo:"/login"},{path:"features/signup",redirectTo:"/signup"},{path:"features/forgot-password",redirectTo:"/forgot-password"},{path:"features/reset-password/:token",redirectTo:"/reset-password/:token"},{path:"**",redirectTo:"/login"}];var Ie={providers:[ge({eventCoalescing:!0}),Pe(Ae,we()),_e(xe()),le(be,y,Se,O),{provide:ve,useClass:W,multi:!0},_,G]};console.log("\u{1F680} Bootstrapping Angular app...");he(q,Ie).then(()=>console.log("\u2705 Angular app bootstrapped successfully")).catch(r=>{console.error("\u274C Angular bootstrap failed:",r)});
