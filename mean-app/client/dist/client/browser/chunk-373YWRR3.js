import{a as $,b as H,c as Y,d as L,e as J,f as K}from"./chunk-WLB24IX7.js";import{E as V,G as U}from"./chunk-JFETNEWJ.js";import{a as w,b as c,c as k,d as I,g as N,h as z,i as D,l as T,m as B,n as q,o as j,q as R,s as A}from"./chunk-SWTIH3DO.js";import{a as G}from"./chunk-L6XRWYET.js";import{b as S}from"./chunk-Q5QP427L.js";import{$ as C,Ab as e,Bb as u,Hb as v,Ib as y,Kc as F,Lc as O,Sa as l,Sc as P,Wb as r,X as h,Yb as b,bb as d,hb as E,lb as m,yb as s,zb as o}from"./chunk-24VTUSTZ.js";var _=class t{constructor(n){this.http=n}baseUrl=G.apiUrl;addExpense(n){return this.http.post(`${this.baseUrl}/expense`,n)}getExpense(){return this.http.get(`${this.baseUrl}/expense`)}static \u0275fac=function(a){return new(a||t)(C(S))};static \u0275prov=h({token:t,factory:t.\u0275fac,providedIn:"root"})};function Z(t,n){t&1&&(o(0,"div",21),r(1," Description must be at least 3 characters. "),e())}function ee(t,n){t&1&&(o(0,"div",21),r(1," Amount is required. "),e())}function te(t,n){t&1&&(o(0,"div",21),r(1," Enter a valid amount. "),e())}function ne(t,n){if(t&1&&(o(0,"option",22),r(1),e()),t&2){let a=n.$implicit;s("value",a),l(),b(" ",a," ")}}function oe(t,n){t&1&&(o(0,"div",21),r(1," Category is required. "),e())}function re(t,n){t&1&&(o(0,"div",21),r(1," Date is required. "),e())}function ie(t,n){if(t&1&&(o(0,"div",23),r(1),e()),t&2){let a=y();l(),b(" ",a.errorMessage," ")}}var Q=class t{constructor(n,a,i,p){this.fb=n;this.dialogRef=a;this.expenseService=i;this.snackBar=p;this.expensesForm=this.fb.group({description:["",[c.required,c.minLength(3)]],amount:[null,[c.required,c.min(1)]],category:["",c.required],date:["",c.required],notes:[""]})}expensesForm;categories=["Food","Travel","Bills","Shopping","Other"];errorMessage="";closeForm(){this.dialogRef.close()}cancelForm(){this.expensesForm.reset(),this.closeForm()}submitForm(){if(this.errorMessage="",this.expensesForm.invalid){this.expensesForm.get("amount")?.value===0?this.errorMessage="Enter a valid amount":this.errorMessage="Please fill in all required fields correctly";return}this.expenseService.addExpense(this.expensesForm.value).subscribe({next:n=>{console.log("\u2705 Expense saved:",n),this.snackBar.open("\u2714 Expense saved successfully!","Close",{duration:3e3,horizontalPosition:"right",verticalPosition:"top",panelClass:["success-snackbar"]}),this.dialogRef.close(n.expense)},error:n=>{console.error("\u274C Error saving expense:",n),this.snackBar.open("\u2716 Failed to save expense!","Close",{duration:3e3,horizontalPosition:"right",verticalPosition:"top",panelClass:["error-snackbar"]})}})}static \u0275fac=function(a){return new(a||t)(d(R),d(V),d(_),d(J))};static \u0275cmp=E({type:t,selectors:[["app-expense-form"]],decls:45,vars:8,consts:[[1,"overlay"],[1,"expenses-card"],["aria-label","Close",1,"close-btn",3,"click"],[1,"form-heading"],[1,"form-subtitle"],[3,"ngSubmit","formGroup"],[1,"form-row"],[1,"form-group"],["type","text","formControlName","description","placeholder","e.g. Grocery Shopping"],["class","field-error",4,"ngIf"],["type","number","formControlName","amount","placeholder","$0.00"],["formControlName","category"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","date","formControlName","date"],[1,"form-group","full-width"],["formControlName","notes","rows","3","placeholder","Any additional details..."],["class","form-error-message",4,"ngIf"],[1,"action-buttons"],["type","button",1,"btn-cancel",3,"click"],["type","submit",1,"btn-save"],[1,"field-error"],[3,"value"],[1,"form-error-message"]],template:function(a,i){if(a&1&&(o(0,"div",0)(1,"div",1)(2,"button",2),v("click",function(){return i.closeForm()}),r(3,"\u2715"),e(),o(4,"h2",3),r(5,"Record New Expense"),e(),o(6,"p",4),r(7," Add details about your expenses to track your finances better. "),e(),o(8,"form",5),v("ngSubmit",function(){return i.submitForm()}),o(9,"div",6)(10,"div",7)(11,"label"),r(12,"Description"),e(),u(13,"input",8),m(14,Z,2,0,"div",9),e(),o(15,"div",7)(16,"label"),r(17,"Amount"),e(),u(18,"input",10),m(19,ee,2,0,"div",9)(20,te,2,0,"div",9),e()(),o(21,"div",6)(22,"div",7)(23,"label"),r(24,"Category"),e(),o(25,"select",11)(26,"option",12),r(27,"Select a category"),e(),m(28,ne,2,2,"option",13),e(),m(29,oe,2,0,"div",9),e(),o(30,"div",7)(31,"label"),r(32,"Date"),e(),u(33,"input",14),m(34,re,2,0,"div",9),e()(),o(35,"div",15)(36,"label"),r(37,"Notes (Optional)"),e(),u(38,"textarea",16),e(),m(39,ie,2,1,"div",17),o(40,"div",18)(41,"button",19),v("click",function(){return i.cancelForm()}),r(42," Cancel "),e(),o(43,"button",20),r(44,"Save"),e()()()()()),a&2){let p,f,M,g,x;l(8),s("formGroup",i.expensesForm),l(6),s("ngIf",((p=i.expensesForm.get("description"))==null?null:p.invalid)&&((p=i.expensesForm.get("description"))==null?null:p.touched)),l(5),s("ngIf",((f=i.expensesForm.get("amount"))==null?null:f.hasError("required"))&&((f=i.expensesForm.get("amount"))==null?null:f.touched)),l(),s("ngIf",((M=i.expensesForm.get("amount"))==null?null:M.value)===0),l(8),s("ngForOf",i.categories),l(),s("ngIf",((g=i.expensesForm.get("category"))==null?null:g.hasError("required"))&&((g=i.expensesForm.get("category"))==null?null:g.touched)),l(5),s("ngIf",((x=i.expensesForm.get("date"))==null?null:x.hasError("required"))&&((x=i.expensesForm.get("date"))==null?null:x.touched)),l(5),s("ngIf",i.errorMessage)}},dependencies:[P,F,O,A,N,q,j,w,z,B,k,I,D,T,U,$,Y,H,L,K],styles:['@charset "UTF-8";.overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0006;display:flex;align-items:center;justify-content:center;z-index:999;padding:16px}.expenses-card[_ngcontent-%COMP%]{position:relative;background:var(--color-background-paper);padding:24px;border-radius:12px;max-width:640px;width:100%;box-shadow:var(--shadow-2);border:1px solid var(--color-gray-300, #E0E0E0);font-family:var(--font-family);font-size:var(--font-size);color:var(--color-text-primary);transition:all .3s ease}.close-btn[_ngcontent-%COMP%]{position:absolute;top:12px;right:12px;border:none;background:none;font-size:18px;cursor:pointer;color:var(--color-text-secondary)}.form-heading[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:var(--color-primary-500);margin-bottom:4px}.form-subtitle[_ngcontent-%COMP%]{font-size:13px;color:var(--color-text-secondary);margin-bottom:20px}.form-row[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:16px;flex-wrap:wrap}.form-group[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-width:200px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;margin-bottom:6px;color:var(--color-text-primary)}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:10px;border:1px solid var(--color-gray-300, #E0E0E0);border-radius:8px;font-size:14px;width:100%;box-sizing:border-box}.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus, .form-group[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{border-color:var(--color-primary-500);outline:none}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.action-buttons[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:10px;flex-wrap:wrap}.btn-cancel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;font-size:14px;cursor:pointer;border:none;flex:1;min-width:100px}.btn-cancel[_ngcontent-%COMP%]{background:var(--color-gray-100, #F5F5F5);color:var(--color-text-primary)}.btn-cancel[_ngcontent-%COMP%]:hover{background:var(--color-gray-300, #E0E0E0)}.btn-save[_ngcontent-%COMP%]{background:var(--color-primary-500);color:#fff}.btn-save[_ngcontent-%COMP%]:hover{background:var(--color-primary-600)}@media (max-width: 768px){.expenses-card[_ngcontent-%COMP%]{padding:16px;max-width:95%}.form-heading[_ngcontent-%COMP%]{font-size:18px}.form-subtitle[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 480px){.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:12px}.action-buttons[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:8px}.btn-cancel[_ngcontent-%COMP%], .btn-save[_ngcontent-%COMP%]{width:100%}}.field-error[_ngcontent-%COMP%]{color:#d32f2f;font-size:13px;margin-top:4px;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}.form-error-message[_ngcontent-%COMP%]{margin-top:10px;padding:8px 12px;background-color:#fdecea;color:#d32f2f;border-radius:6px;text-align:center;font-weight:500;animation:_ngcontent-%COMP%_fadeIn .3s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-3px)}to{opacity:1;transform:translateY(0)}}']})};export{Q as a};
